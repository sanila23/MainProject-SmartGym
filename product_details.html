{% load static %}
{% load social_share %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE-edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <title>{{ product.product_name }} - Your Website</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />
    <!-- Font Awesome styles -->
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />
    <!-- jQuery UI CSS for the date picker -->
    <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- Custom styles for this template -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <!-- Responsive style -->
    <link href="{% static 'css/responsive.css' %}" rel="stylesheet">
    <link href="{% static 'css/details.css' %}" rel="stylesheet">
    
        <style>
            /* CSS for the modal */
            .modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */
                z-index: 999; /* Ensure overlay is below the modal but above other content */
                display: none; /* Hide the overlay by default */
              }
              
.modal {
  display: none; /* Hide the modal by default */
  position: fixed; /* Fixed position to overlay the page */
  z-index: 1000; /* Ensure modal is above other elements */
  left: 50%; /* Move the modal to the center horizontally */
  top: 50%; /* Move the modal to the center vertically */
  transform: translate(-50%, -50%); /* Center the modal precisely */
  width: 200%; /* Set the width of the modal */
  max-width: 400px; /* Set a maximum width for the modal */
  max-height: 70%; 
  background-color: white; /* Background color of the modal */
  border-radius: 8px; /* Add some border radius for visual appeal */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add a shadow for depth */
}

/* CSS for the modal content */
.modal-content {
  padding: 20px; /* Add padding to the modal content */
}

/* CSS for the close button */
.close {
  position: absolute; /* Position the close button */
  top: 10px; /* Set the top position */
  right: 10px; /* Set the right position */
  cursor: pointer; /* Change cursor to pointer on hover */
}

#rental_period_options {
    display: flex;
    align-items: center;
  }
  
  #rental_period_options input[type="radio"] {
    margin-right: 10px;
  }
  

            /* Style for the sidebar */
        .sidebar {
            width: 200px; /* Adjust the width as needed */
            background-color: #f0f0f0; /* Adjust the background color */
            padding: 20px;
            position: fixed; /* Fix the sidebar's position */
            top: 80px; /* Adjust the top distance to match your header's height */
            left: 0;
            bottom: 0;
        }
        
        /* Add additional styles for your filter options and content within the sidebar */
        .sidebar h2 {
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        /* Add more styling for filter options and content within the sidebar as needed */
        
                /* Reset some default styles */
                * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }
        
                /* Style the header */
                header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    background-color: #f7444e; /* Adjust the color as needed */
                    padding: 20px 20px;
                    color: #fff; /* Text color */
                }
        
                /* Style the logo */
                .logo img {
                    width: 100px; /* Adjust the logo size */
                }
        
                /* Style the navigation menu */
                nav ul {
                    list-style: none;
                }
        
                nav ul li {
                    display: inline;
                    margin-right: 20px;
                }
        
                nav a {
                    text-decoration: none;
                    color: #fff; /* Link color */
                }
        
                /* Style the search bar */
                .search input[type="text"] {
                    padding: 5px;
                    border: none;
                }
        
                .search button {
                    background-color: #ff0000; /* Button background color */
                    color: #fff; /* Button text color */
                    padding: 5px 10px;
                    border: none;
                    cursor: pointer;
                }
        
                /* Style the account links and shopping cart icon */
                .account a {
                    color: #fff;
                    text-decoration: none;
                    margin-left: 20px;
                }
                /* Style the dropdown container */
        .profile-dropdown {
            position: relative;
            display: inline-block;
        }
        
        /* Style the dropdown content (hidden by default) */
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f0f0f0; /* Background color for the dropdown */
            min-width: 160px;
            z-index: 1;
        }
        
        /* Style the dropdown links */
        .dropdown-content a {
            color: #f7444e;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        
        /* Change the link color on hover */
        .dropdown-content a:hover {
            background-color: ; /* Background color on hover */
        }
        
         /*Display the dropdown content when hovering over the profile icon */
        .profile-dropdown:hover .dropdown-content {
            display: block;
        }
        /* Styles for the main content */
        main {
          padding: 20px;
        }
        
        /* Style for the product container */
       
        
        .strikethrough {
            text-decoration: line-through;
          }
          
        
        /* ... Rest of your existing product-card styles ... */
        
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        /* Styling for the shopping cart icon */
a[href*="view_cart"] i.fa-shopping-cart {
    color: white; /* Red color for the shopping cart icon */
    font-size: 22px; /* Adjust the font size as needed */
    margin-right: 10px; /* Adjust the right margin as needed */
    
}

/* Styling for the heart icon */
a[href*="wishlist"] i.fa-heart {
    color: white; /* Red color for the heart icon */
    font-size: 22px; /* Adjust the font size as needed */
    margin-right: 10px; /* Adjust the right margin as needed */
    
}
.product-image img {
    width: 500px; /* Adjust the width to your desired size */
    height: auto; /* This maintains the image's aspect ratio */
    transition: transform 0.3s; /* Add a smooth transition for the zoom effect */
}

.product-image:hover img {
    transform: scale(1.2); /* Increase the scale for the zoom effect on hover */
        }
        
          
          /* Add more CSS for responsive design and any additional styling you need */
            </style>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        </head>
        <body>

            <header>
                <div class="logo">
                    <img src="" alt="">
                </div>
                <nav>
                    <ul>
                        <li><a href="{% url 'userhome' %}"><strong>HOME</strong></a></li>
                        <li class="dropdown">
                            <a href="#"><strong>ORNAMENTS</strong></a>
                            <div class="dropdown-content">
                                <li><a href="{% url 'products_by_subcategory' 'LegExtension' %}">Leg Extension</a>
            <a href="{% url 'products_by_subcategory' 'Biceps/Triceps Extension' %}">Biceps/Triceps Extension</a>
            <a href="{% url 'products_by_subcategory' 'Pack Fly' %}">Pack Fly</a>
            <a href="{% url 'products_by_subcategory' 'WeightLift' %}">WeightLift</a>
            <a hreff="{% url 'products_by_subcategory' 'Leg Piece' %}">Leg Piece</a>
            <a href="{% url 'products_by_subcategory' 'Hack Squat Leg Press' %}">Hack Squat Leg Press</a>
            <a href="{% url 'products_by_subcategory' 'T-Bar' %}">T-Bar</a>
                            </div>
                        </li>
                        
                        
                        <!--<li><a href="#">Home & Living</a></li>
                        <li><a href="#">Brands</a></li>-->
                        {% comment %} <li class="dropdown">
                            <a href="#"><strong>BAGS</strong></a>
                            <div class="dropdown-content">
                                <a href="#">CLUTCHES</a>
                                <a href="#">HAND BAGS</a>
                                
                            </div>
                        </li> {% endcomment %}
                    </ul>
                </nav>
                {% comment %} <div class="search">
                    <input type="text" placeholder="Search">
                    <button>Search</button>
                </div> {% endcomment %}
                            <div class="account">
           
            <div class="profile-dropdown">
            <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#ffffff">
                    <circle cx="12" cy="12" r="11" stroke="#ffffff" stroke-width="2" fill="none"/>
                    <path d="M12 16C10.48 16 9.33 17.15 9.33 18.67H14.67C14.67 17.15 13.52 16 12 16ZM12 14C14.21 14 16 15.79 16 18.67H8C8 15.79 9.79 14 12 14ZM12 12C9.86 12 8.17 10.21 8.17 8S9.86 4 12 4 15.83 5.79 15.83 8 14.14 12 12 12Z" fill="#ffffff"/>
                  </svg>
            </a>
            <div class="dropdown-content">
                <a href="{% url 'Customer_Profile' %}">Profile</a>
                <a href="{% url 'logout'  %}">Logout</a>
            </div></div>
            <a href="{% url 'view_cart'  %}"><i class="fa fa-shopping-cart">{% if cart_count == 0 %}
                <span></span>
                {% else %}
                <span class="cart-count">{{ cart_count }}</span>
                {% endif %}</i></a>
    <a href="{% url 'wishlist'  %}"><i class="fa fa-heart"></i></a>
	
            
        
        
        
        
                </svg>
            </a>
        </div>
        
                </div>
            </header>
             {% comment %} <div class="sidebar">
                <!-- Add your filter options and content for the sidebar here -->
            </div> {% endcomment %}
        

            <main>
                <section class="product-card">
                    <div class="product-image">
                        <img src="{{ product.product_image.url }}" alt="{{ product.product_name }}">
                    </div>
                    
                    <div class="product-details">
                        <h1>{{ product.product_name }}</h1>
                        <p class="product-price">
                            <span class="sale-price">Rs.{{ product.sale_price }}</span>
                            <del class="original-price">Rs.{{ product.price }}</del>
                        </p>
                        <p class="product-discount">Discount: {{ product.discount }}% Off</p>
                        <p class="product-description">Product Description: {{ product.description }}</p>
                        {% post_to_whatsapp object_or_url "Share via WhatsApp" %}
                        
                       
                        <div class="button-container">
                            <form method="post" action="{% url 'add_to_cart' product.id %}">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-success">Buy Now</button>
                            </form>
                            
                        </div>
                        <div class="rating-section">
                            <h2>Rate this product</h2>
                            <form method="post" action="{% url 'rate_product' product.id %}">
            
                              {% csrf_token %}
                              <div class="rating-inputs">
                                <label for="rating">Rating:</label>
                                <div class="stars" id="stars">
                                  <span class="star" data-value="1">&#9733;</span>
                                  <span class="star" data-value="2">&#9733;</span>
                                  <span class="star" data-value="3">&#9733;</span>
                                  <span class="star" data-value="4">&#9733;</span>
                                  <span class="star" data-value="5">&#9733;</span>
                                </div>
                                <input type="hidden" name="rating" id="rating-value" value="0">
                              </div>
                              <div class="comment-inputs">
                                <label for="comment">Comment:</label>
                                <textarea name="comment" class="comment-textarea"></textarea>
                              </div>
                              <input type="submit" value="Rate" class="rate-button">
                            </form>
                          </div>
                      
                          <div class="ratings-section">
                            <h2>Product  Ratings</h2>
                            <ul class="ratings-list">
                              {% for rating in ratings %}
                                <li class="rating-item">
                                  <div class="user-rating">
                                    <span class="username">{{ rating.user.fullName }}</span> rated <span class="rating-value">{{ rating.value }}/5</span>
                                  </div>
                                  {% if rating.comment %}
                                    <p class="comment">{{ rating.comment }}</p>
                                  {% endif %}
                                </li>
                              {% endfor %}
                            </ul>
                          </div>
                        </div>
                        <script>
                          const stars = document.querySelectorAll('.star');
                        
                          stars.forEach(star => {
                            star.addEventListener('click', () => {
                              const value = star.getAttribute('data-value');
                              document.getElementById('rating-value').value = value;
                        
                              // Highlight selected stars
                              stars.forEach(s => {
                                if (parseInt(s.getAttribute('data-value')) <= value) {
                                  s.classList.add('selected');
                                } else {
                                  s.classList.remove('selected');
                                }
                              });
                            });
                          });
                        </script>
                        
                    </div>
                </section>
        
                
        
    <footer>
        <!-- Your website footer with links, contact info, etc. -->
    </footer>
    
</body>

    
</html>